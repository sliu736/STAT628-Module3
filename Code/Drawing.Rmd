---
title: "628M3"
author: "Yifan Du"
date: "10/28/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(rjson)
library(jsonlite)
library(dplyr)
library(tidyr)

```

```{r}

review_Gym<-stream_in(file('review_Gym.json'), pagesize = 100)

```

```{r}
counting_words<-c('membership','clean','machines','location','friendly')

counting_by_star <- function(word) {
  review_Gym_word <- review_Gym[review_Gym$text %>% grepl(pattern = word),]
  counint_stars <- review_Gym_word %>%
    count(stars)
  return(counint_stars$n)
}

star_df<-as.data.frame(matrix(nrow=5,ncol=0))

for (word in counting_words) {
  count<-counting_by_star(word)
  count<-count/sum(count)
  star_df<-cbind(star_df,count)
}

colnames(star_df)<-counting_words

```




